# 用户认证 API

## 1. 用户登录

### 接口信息

- **路径**: `/api/auth/login`
- **方法**: `POST`
- **认证**: 不需要
- **描述**: 用户登录获取 JWT Token

### 请求参数

```json
{
  "username": "user123",
  "password": "secure_password"
}
```

### 响应示例

```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "refresh_token": "eyJ0eXAiOiJKV1QiLCJhbGc...",
  "user": {
    "id": "uuid-string",
    "username": "user123",
    "role": "user"
  }
}
```

### Token 说明

- **access_token**: 访问令牌，有效期 1 小时
- **refresh_token**: 刷新令牌，有效期 7 天

### 状态码

- `200` - 登录成功
- `401` - 用户名或密码错误

---

## 2. 刷新 Token

### 接口信息

- **路径**: `/api/auth/refresh`
- **方法**: `POST`
- **认证**: 不需要
- **描述**: 使用 refresh_token 获取新的 access_token

### 请求参数

```json
{
  "refresh_token": "eyJ0eXAiOiJKV1QiLCJhbGc..."
}
```

### 响应示例

```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGc..."
}
```

### 状态码

- `200` - 刷新成功
- `400` - refresh_token 无效

---

## 3. 获取当前用户信息

### 接口信息

- **路径**: `/api/auth/me`
- **方法**: `GET`
- **认证**: 需要
- **描述**: 获取当前登录用户信息

### 请求头

```
Authorization: Bearer <access_token>
```

### 响应示例

```json
{
  "id": "uuid-string",
  "username": "user123",
  "email": "user@example.com",
  "role": "user",
  "created_at": "2024-01-01T00:00:00Z"
}
```

### 状态码

- `200` - 成功
- `401` - 未认证

---

## 4. 修改密码

### 接口信息

- **路径**: `/api/auth/password`
- **方法**: `PUT`
- **认证**: 需要
- **描述**: 修改当前用户密码

### 请求参数

```json
{
  "old_password": "old_password",
  "new_password": "new_password"
}
```

### 响应示例

```json
{
  "message": "密码修改成功"
}
```

### 状态码

- `200` - 修改成功
- `400` - 旧密码错误
- `401` - 未认证
